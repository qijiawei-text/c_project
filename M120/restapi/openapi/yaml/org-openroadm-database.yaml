---
swagger: "2.0"
info:
  description: "This module contains definitions for System Management.\n\n     Copyright\
    \ of the Members of the Open ROADM MSA Agreement dated (c) 2016,\n     All other\
    \ rights reserved.\n\n     Redistribution and use in source and binary forms,\
    \ with or without modification,\n     are permitted provided that the following\
    \ conditions are met:\n\n     * Redistributions of source code must retain the\
    \ above copyright notice, this\n       list of conditions and the following disclaimer.\n\
    \     * Redistributions in binary form must reproduce the above copyright notice,\n\
    \       this list of conditions and the following disclaimer in the documentation\
    \ and/or\n       other materials provided with the distribution.\n     * Neither\
    \ the Members of the Open ROADM MSA Agreement nor the names of its\n       contributors\
    \ may be used to endorse or promote products derived from this software\n    \
    \   without specific prior written permission.\n\n     THIS SOFTWARE IS PROVIDED\
    \ BY THE MEMBERS OF THE OPEN ROADM MSA  AGREEMENT ''AS IS''\n     AND ANY EXPRESS\
    \ OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n     WARRANTIES\
    \ OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n  \
    \   IN NO EVENT THE MEMBERS OF THE OPEN ROADM MSA  AGREEMENT BE LIABLE FOR ANY\
    \ DIRECT,\n     INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\
    \ (INCLUDING, BUT\n     NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\
    \  LOSS OF USE, DATA,\n     OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\
    \ AND ON ANY THEORY OF LIABILITY,\n     WHETHER IN CONTRACT, STRICT LIABILITY,\
    \ OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n     ARISING IN ANY WAY OUT OF\
    \ THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n     POSSIBILITY OF SUCH DAMAGE."
  version: "1.0"
  title: "org-openroadm-database API"
host: "localhost:1234"
consumes:
- "application/yang-data+json"
produces:
- "application/yang-data+json"
paths:
  /operations/cancel-rollback-timer:
    post:
      tags:
      - "org-openroadm-database"
      summary: "operates on org.openroadm.database.CancelRollbackTimer"
      description: "operates on org.openroadm.database.CancelRollbackTimer"
      parameters:
      - in: "body"
        name: "org.openroadm.database.cancelrollbacktimer.Input.body-param"
        required: false
        schema:
          properties:
            input:
              $ref: "#/definitions/org.openroadm.database.cancelrollbacktimer.Input"
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/org.openroadm.database.CancelRollbackTimer"
        201:
          description: "No response"
        400:
          description: "Internal error"
  /operations/database-init:
    post:
      tags:
      - "org-openroadm-database"
      parameters: []
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/org.openroadm.database.DatabaseInit"
        201:
          description: "No response"
        400:
          description: "Internal error"
  /operations/db-activate:
    post:
      tags:
      - "org-openroadm-database"
      summary: "operates on org.openroadm.database.DbActivate"
      description: "operates on org.openroadm.database.DbActivate"
      parameters:
      - in: "body"
        name: "org.openroadm.database.dbactivate.Input.body-param"
        required: false
        schema:
          properties:
            input:
              $ref: "#/definitions/org.openroadm.database.dbactivate.Input"
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/org.openroadm.database.DbActivate"
        201:
          description: "No response"
        400:
          description: "Internal error"
  /operations/db-backup:
    post:
      tags:
      - "org-openroadm-database"
      summary: "operates on org.openroadm.database.DbBackup"
      description: "operates on org.openroadm.database.DbBackup"
      parameters:
      - in: "body"
        name: "org.openroadm.database.dbbackup.Input.body-param"
        required: false
        schema:
          properties:
            input:
              $ref: "#/definitions/org.openroadm.database.dbbackup.Input"
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/org.openroadm.database.DbBackup"
        201:
          description: "No response"
        400:
          description: "Internal error"
  /operations/db-restore:
    post:
      tags:
      - "org-openroadm-database"
      summary: "operates on org.openroadm.database.DbRestore"
      description: "operates on org.openroadm.database.DbRestore"
      parameters:
      - in: "body"
        name: "org.openroadm.database.dbrestore.Input.body-param"
        required: false
        schema:
          properties:
            input:
              $ref: "#/definitions/org.openroadm.database.dbrestore.Input"
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/org.openroadm.database.DbRestore"
        201:
          description: "No response"
        400:
          description: "Internal error"
definitions:
  org.openroadm.common.types.RpcResponseStatus:
    type: "object"
    properties:
      status-message:
        type: "string"
        description: "Gives a more detailed status"
      status:
        description: "Successful or Failed"
        $ref: "#/definitions/org.openroadm.common.types.RpcStatus"
  org.openroadm.common.types.RpcStatus:
    type: "string"
    enum:
    - "Successful"
    - "Failed"
  org.openroadm.database.CancelRollbackTimer:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/org.openroadm.common.types.RpcResponseStatus"
  org.openroadm.database.DatabaseInit:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/org.openroadm.common.types.RpcResponseStatus"
  org.openroadm.database.DbActivate:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/org.openroadm.common.types.RpcResponseStatus"
  org.openroadm.database.DbBackup:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/org.openroadm.common.types.RpcResponseStatus"
  org.openroadm.database.DbRestore:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/org.openroadm.common.types.RpcResponseStatus"
  org.openroadm.database.cancelrollbacktimer.Input:
    type: "object"
    properties:
      accept:
        type: "boolean"
        description: " TRUE means rollback timer is cancelled and new load is accepted"
        default: false
  org.openroadm.database.dbactivate.Input:
    type: "object"
    properties:
      rollBackTimer:
        type: "string"
        description: "rollbackTimer "
  org.openroadm.database.dbbackup.Input:
    type: "object"
    properties:
      filename:
        type: "string"
        description: "Path and file name is used with back-up.(xxx.DBS)"
  org.openroadm.database.dbrestore.Input:
    type: "object"
    properties:
      filename:
        type: "string"
        description: "PATH/file name use file name.(xxx.DBS)"
      nodeIDCheck:
        type: "boolean"
        description: "Flag to indicate if sysNameCheck is required"
        default: true
