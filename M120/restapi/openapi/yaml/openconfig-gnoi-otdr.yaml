---
swagger: "2.0"
info:
  description: "This model describes configuration and operational state data\n  \
    \  for OTDR, deployed as part of a transport line system. It is based on\n   \
    \ https://github.com/openconfig/gnoi/otdr/otdr.proto"
  version: "1.0"
  title: "openconfig-gnoi-otdr API"
host: "localhost:1234"
consumes:
- "application/yang-data+json"
produces:
- "application/yang-data+json"
paths:
  /data/optical-time-domain-reflectometer:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer"
      description: "Enclosing container for otdrs"
      parameters: []
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometerWrapper"
        400:
          description: "Internal error"
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer"
      description: "Enclosing container for otdrs"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer\
          \ to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometerWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer"
      description: "Enclosing container for otdrs"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer\
          \ to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometerWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer"
      description: "Enclosing container for otdrs"
      parameters: []
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/config-common:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
      description: "List of common configuration for short, mediam and long scan,\n\
        \           as all ports should have the same fiber profiles."
      parameters: []
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommonWrapper"
        400:
          description: "Internal error"
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
      description: "List of common configuration for short, mediam and long scan,\n\
        \           as all ports should have the same fiber profiles."
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon\
          \ to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommonWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
      description: "List of common configuration for short, mediam and long scan,\n\
        \           as all ports should have the same fiber profiles."
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon\
          \ to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommonWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
      description: "List of common configuration for short, mediam and long scan,\n\
        \           as all ports should have the same fiber profiles."
      parameters: []
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/config-common/fiber-profile:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.OtdrFiberProfile"
      description: "returns openconfig.gnoi.otdr.OtdrFiberProfile"
      parameters: []
      responses:
        200:
          description: "openconfig.gnoi.otdr.OtdrFiberProfile"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfileWrapper"
        400:
          description: "Internal error"
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.OtdrFiberProfile"
      description: "creates openconfig.gnoi.otdr.OtdrFiberProfile"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.OtdrFiberProfile.body-param"
        description: "openconfig.gnoi.otdr.OtdrFiberProfile to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfileWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.OtdrFiberProfile"
      description: "creates or updates openconfig.gnoi.otdr.OtdrFiberProfile"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.OtdrFiberProfile.body-param"
        description: "openconfig.gnoi.otdr.OtdrFiberProfile to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfileWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.OtdrFiberProfile"
      description: "removes openconfig.gnoi.otdr.OtdrFiberProfile"
      parameters: []
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/config-common/scan-types/:
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      description: "creates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes\
          \ to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypesWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
  /data/optical-time-domain-reflectometer/config-common/scan-types={scan-type}:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      description: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      parameters:
      - name: "scan-type"
        in: "path"
        description: "Id of scan-types"
        required: true
        type: "string"
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypesWrapper"
        400:
          description: "Internal error"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      description: "creates or updates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      parameters:
      - name: "scan-type"
        in: "path"
        description: "Id of scan-types"
        required: true
        type: "string"
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes\
          \ to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypesWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      description: "removes openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      parameters:
      - name: "scan-type"
        in: "path"
        description: "Id of scan-types"
        required: true
        type: "string"
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/otdrs:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
      description: "Enclosing container for list of attenuators"
      parameters: []
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.OtdrsWrapper"
        400:
          description: "Internal error"
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
      description: "Enclosing container for list of attenuators"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs\
          \ to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.OtdrsWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
      description: "Enclosing container for list of attenuators"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs\
          \ to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.OtdrsWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
      description: "Enclosing container for list of attenuators"
      parameters: []
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/otdrs/otdr/:
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
      description: "List of variable optical attenuators present in the device"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr\
          \ to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.OtdrWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
  /data/optical-time-domain-reflectometer/otdrs/otdr={name}:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
      description: "List of variable optical attenuators present in the device"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.OtdrWrapper"
        400:
          description: "Internal error"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
      description: "List of variable optical attenuators present in the device"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr\
          \ to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.OtdrWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
      description: "List of variable optical attenuators present in the device"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/otdrs/otdr={name}/config:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
      description: "Customized configuration data for otdr."
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.ConfigWrapper"
        400:
          description: "Internal error"
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
      description: "Customized configuration data for otdr."
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config\
          \ to be added to list"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.ConfigWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        409:
          description: "Object already exists"
    put:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "creates or updates openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
      description: "Customized configuration data for otdr."
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config.body-param"
        description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config\
          \ to be added or updated"
        required: false
        schema:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.ConfigWrapper"
      responses:
        201:
          description: "Object created"
        400:
          description: "Internal error"
        204:
          description: "Object modified"
    delete:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "removes openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
      description: "Customized configuration data for otdr."
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      responses:
        400:
          description: "Internal error"
        204:
          description: "Object deleted"
  /data/optical-time-domain-reflectometer/otdrs/otdr={name}/scan-results:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.OtdrScanResult"
      description: "returns openconfig.gnoi.otdr.OtdrScanResult"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      responses:
        200:
          description: "openconfig.gnoi.otdr.OtdrScanResult"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScanResultWrapper"
        400:
          description: "Internal error"
  /data/optical-time-domain-reflectometer/otdrs/otdr={name}/scan-results/traces={completion-time}:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrscanresult.Traces"
      description: "returns openconfig.gnoi.otdr.otdrscanresult.Traces"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      - name: "completion-time"
        in: "path"
        description: "Id of traces"
        required: true
        type: "string"
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrscanresult.Traces"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrscanresult.TracesWrapper"
        400:
          description: "Internal error"
  /data/optical-time-domain-reflectometer/otdrs/otdr={name}/scan-results/traces={completion-time}/events={event-id}:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtrace.Events"
      description: "returns openconfig.gnoi.otdr.otdrtrace.Events"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      - name: "completion-time"
        in: "path"
        description: "Id of traces"
        required: true
        type: "string"
      - name: "event-id"
        in: "path"
        description: "Id of events"
        required: true
        type: "integer"
        format: "int32"
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtrace.Events"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtrace.EventsWrapper"
        400:
          description: "Internal error"
  /data/optical-time-domain-reflectometer/otdrs/otdr={name}/state:
    get:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "returns openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.State"
      description: "Operational state data for the otdr"
      parameters:
      - name: "name"
        in: "path"
        description: "Id of otdr"
        required: true
        type: "string"
      responses:
        200:
          description: "openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.State"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.StateWrapper"
        400:
          description: "Internal error"
  /operations/otdr-scan:
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "operates on openconfig.gnoi.otdr.OtdrScan"
      description: "operates on openconfig.gnoi.otdr.OtdrScan"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.otdrscan.Input.body-param"
        required: false
        schema:
          properties:
            input:
              $ref: "#/definitions/openconfig.gnoi.otdr.otdrscan.Input"
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScan"
        201:
          description: "No response"
        400:
          description: "Internal error"
  /operations/set-baseline:
    post:
      tags:
      - "openconfig-gnoi-otdr"
      summary: "operates on openconfig.gnoi.otdr.SetBaseline"
      description: "operates on openconfig.gnoi.otdr.SetBaseline"
      parameters:
      - in: "body"
        name: "openconfig.gnoi.otdr.setbaseline.Input.body-param"
        required: false
        schema:
          properties:
            input:
              $ref: "#/definitions/openconfig.gnoi.otdr.setbaseline.Input"
      responses:
        200:
          description: "Correct response"
          schema:
            $ref: "#/definitions/openconfig.gnoi.otdr.SetBaseline"
        201:
          description: "No response"
        400:
          description: "Internal error"
definitions:
  openconfig.gnoi.otdr.Event:
    type: "object"
    properties:
      distance-m:
        type: "integer"
        format: "int64"
        description: "Distance at which the event occurred in meters."
      reflection-db:
        type: "string"
        description: "The reflection that occurred at the event in dB."
      loss-db:
        type: "string"
        description: "The fiber loss that occurred at the event in dB."
      event-type:
        description: "OTDR event type"
        $ref: "#/definitions/openconfig.gnoi.otdr.OtdrEventType"
  openconfig.gnoi.otdr.Operation:
    type: "string"
    enum:
    - "start"
    - "stop"
  openconfig.gnoi.otdr.OtdrConfiguration:
    type: "object"
    properties:
      sampling-resolution-m:
        type: "string"
        description: "Sampling resolution in meters."
        default: "10"
      acquisition-time-s:
        type: "integer"
        format: "int64"
        description: "The time in seconds in which the OTDR trace will run continuously\
          \ to\n\t collect data."
        default: 60
      negotiation:
        type: "boolean"
        description: "Enable auto negotiation to prevent peer otdr scan conflict."
        default: true
      range-m:
        type: "integer"
        format: "int64"
        description: "The maximum fiber distance range in meters that the OTDR trace\
          \ will\n\t support."
        default: 50
      wavelength-mhz:
        type: "integer"
        format: "int32"
        description: "The wavelength in MHz that will be sent by the OTDR. \n    \
          \     This may be left blank if the OTDR only supports one wavelength."
        default: 200000000
      pulse-width-ns:
        type: "integer"
        format: "int64"
        description: "The pulse width in nanoseconds which defines how long pulses\
          \ sent by the\n         OTDR will be during the test."
        default: 3000
      fiber-type:
        type: "string"
        description: "The type of fiber that is being measured."
        default: "oc-amp:SSMF"
  openconfig.gnoi.otdr.OtdrEventType:
    type: "string"
    enum:
    - "unknown"
    - "non-reflective"
    - "reflective"
    - "fiber-end"
  openconfig.gnoi.otdr.OtdrFiberProfile:
    type: "object"
    properties:
      refractive-index:
        type: "string"
        description: "refractive ratio"
        default: "1.467900"
      fiber-end-threshold:
        type: "string"
        description: "fiber end event threshold"
        default: "3"
      splice-loss-threshold:
        type: "string"
        description: "splice loss threshold"
        default: "2.16"
      reflectance-threshold:
        type: "string"
        description: "reflection threshold"
        default: "-40"
      backscatter-index:
        type: "string"
        description: "backscatter ratio"
  openconfig.gnoi.otdr.OtdrFiberProfileWrapper:
    properties:
      fiber-profile:
        $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfile"
  openconfig.gnoi.otdr.OtdrScan:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/openconfig.gnoi.otdr.RpcResponseStatus"
  openconfig.gnoi.otdr.OtdrScanResult:
    type: "object"
    properties:
      traces:
        type: "array"
        items:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrscanresult.Traces"
  openconfig.gnoi.otdr.OtdrScanResultWrapper:
    properties:
      scan-results:
        $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScanResult"
  openconfig.gnoi.otdr.OtdrScanType:
    type: "string"
    enum:
    - "customized"
    - "short"
    - "medium"
    - "long"
    - "auto"
  openconfig.gnoi.otdr.OtdrState:
    type: "object"
    properties:
      status:
        $ref: "#/definitions/openconfig.gnoi.otdr.StatusEnumeration"
  openconfig.gnoi.otdr.OtdrTrace:
    type: "object"
    properties:
      optical-return-loss-db:
        type: "string"
        description: "Optical return loss of the fiber in dB."
      average-loss-db-km:
        type: "string"
        description: "Optical return loss of the fiber in dB."
      event-count:
        type: "integer"
        format: "int64"
        description: "Count of the event."
      total-length-m:
        type: "integer"
        format: "int64"
        description: "Total measured length of the fiber in meters."
      discovered-fiber-type:
        type: "string"
        description: "Discovered fiber type, if the OTDR can infer this information."
      total-loss-db:
        type: "string"
        description: "Total measured loss of the fiber."
      events:
        type: "array"
        items:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtrace.Events"
  openconfig.gnoi.otdr.OtdrTriggerType:
    type: "string"
    enum:
    - "lof-clear"
    - "lof-set"
    - "manual"
    - "external"
  openconfig.gnoi.otdr.RpcResponseStatus:
    type: "object"
    properties:
      status-message:
        type: "string"
        description: "Gives a more detailed status"
      status:
        description: "Successful or Failed"
        $ref: "#/definitions/openconfig.gnoi.otdr.RpcStatus"
  openconfig.gnoi.otdr.RpcStatus:
    type: "string"
    enum:
    - "Successful"
    - "Failed"
  openconfig.gnoi.otdr.SetBaseline:
    type: "object"
    properties:
      output:
        $ref: "#/definitions/openconfig.gnoi.otdr.setbaseline.Output"
  openconfig.gnoi.otdr.StatusEnumeration:
    type: "string"
    enum:
    - "unknown"
    - "pending"
    - "measuring"
    - "idle"
  openconfig.gnoi.otdr.otdrscan.Input:
    type: "object"
    properties:
      name:
        type: "string"
        description: "otdr name (scan port)"
      otdr-scan-type:
        $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScanType"
      operation:
        $ref: "#/definitions/openconfig.gnoi.otdr.Operation"
  openconfig.gnoi.otdr.otdrscanresult.Traces:
    allOf:
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrTrace"
    - type: "object"
      properties:
        baseline:
          type: "boolean"
          description: "if this trace is the baseline."
          default: false
        trigger:
          description: "how was this trace triggered."
          $ref: "#/definitions/openconfig.gnoi.otdr.OtdrTriggerType"
        completion-time:
          type: "string"
          description: "Time scan was completed."
        sor-file:
          type: "string"
          description: "file path and name of the sor file."
        scan-type:
          description: "Type of the scan performed."
          $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScanType"
  openconfig.gnoi.otdr.otdrscanresult.TracesWrapper:
    properties:
      traces:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrscanresult.Traces"
  openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer:
    type: "object"
    properties:
      otdrs:
        description: "Enclosing container for list of attenuators"
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
      config-common:
        description: "List of common configuration for short, mediam and long scan,\n\
          \           as all ports should have the same fiber profiles."
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
  openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometerWrapper:
    properties:
      optical-time-domain-reflectometer:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.OpticalTimeDomainReflectometer"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon:
    type: "object"
    properties:
      scan-types:
        type: "array"
        items:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
      fiber-profile:
        $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfile"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommonWrapper:
    properties:
      config-common:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.ConfigCommon"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs:
    type: "object"
    properties:
      otdr:
        type: "array"
        description: "List of variable optical attenuators present in the device"
        items:
          $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.OtdrsWrapper:
    properties:
      otdrs:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.Otdrs"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes:
    allOf:
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrConfiguration"
    - type: "object"
      properties:
        scan-type:
          $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScanType"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypesWrapper:
    properties:
      scan-types:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.configcommon.ScanTypes"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr:
    type: "object"
    properties:
      name:
        type: "string"
        description: "name of the otdr, i.e., the otdr port name"
      state:
        description: "Operational state data for the otdr"
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.State"
      parent-port:
        type: "string"
        description: "Reference to system-supplied name of the port to be scaned."
        x-path: "/oc-platform:components/oc-platform:component/oc-platform:name"
      scan-results:
        $ref: "#/definitions/openconfig.gnoi.otdr.OtdrScanResult"
      config:
        description: "Customized configuration data for otdr."
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.OtdrWrapper:
    properties:
      otdr:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.Otdr"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config:
    allOf:
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrConfiguration"
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfile"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.ConfigWrapper:
    properties:
      config:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.Config"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.State:
    allOf:
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrConfiguration"
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrFiberProfile"
    - $ref: "#/definitions/openconfig.gnoi.otdr.OtdrState"
  openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.StateWrapper:
    properties:
      state:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtop.opticaltimedomainreflectometer.otdrs.otdr.State"
  openconfig.gnoi.otdr.otdrtrace.Events:
    allOf:
    - $ref: "#/definitions/openconfig.gnoi.otdr.Event"
    - type: "object"
      properties:
        event-id:
          type: "integer"
          format: "int32"
          description: "Event index"
  openconfig.gnoi.otdr.otdrtrace.EventsWrapper:
    properties:
      events:
        $ref: "#/definitions/openconfig.gnoi.otdr.otdrtrace.Events"
  openconfig.gnoi.otdr.setbaseline.Input:
    type: "object"
    properties:
      name:
        type: "string"
        description: "otdr name (a scaned port)"
      scan-time:
        type: "string"
        description: "Update baseline-result, according to scan time"
  openconfig.gnoi.otdr.setbaseline.Output:
    allOf:
    - $ref: "#/definitions/openconfig.gnoi.otdr.RpcResponseStatus"
    - type: "object"
      properties:
        result-file:
          type: "string"
          description: "The SOR files path and filename on the device to be downloaded"
