<nfv xmlns="urn:etsi:nfv:yang:etsi-nfv-descriptors">
  <vnfd>
    <id>ASA</id>
    <provider>My Company</provider>
    <product-name>My Company ASAv</product-name>
    <software-version>9.8</software-version>
    <version>9.8</version>
    <vnfm-info>My Company Vnfm</vnfm-info>
    <vdu>
      <id>firewall</id>
      <name>Firewall VDU</name>
      <int-cpd>
        <id>inside</id>
        <layer-protocol>ethernet</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>management</id>
        <layer-protocol>ethernet</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>outside</id>
        <layer-protocol>ethernet</layer-protocol>
      </int-cpd>
      <virtual-compute-desc>asa-vcd</virtual-compute-desc>
      <virtual-storage-desc>asa-vsd</virtual-storage-desc>
      <sw-image-desc>asa-image</sw-image-desc>
    </vdu>
    <virtual-compute-desc>
      <id>asa-vcd</id>
      <virtual-memory>
        <size>4.0</size>
      </virtual-memory>
      <virtual-cpu>
        <num-virtual-cpu>2</num-virtual-cpu>
      </virtual-cpu>
    </virtual-compute-desc>
    <virtual-storage-desc>
      <id>asa-vsd</id>
      <type-of-storage>root-storage</type-of-storage>
      <size-of-storage>0</size-of-storage>
    </virtual-storage-desc>
    <sw-image-desc>
      <id>asa-image</id>
      <name>ASA image</name>
      <version>1.1</version>
      <checksum>
	<algorithm>sha-224</algorithm>
	<hash>deadbeef</hash>
      </checksum>
      <container-format>bare</container-format>
      <disk-format>qcow2</disk-format>
      <min-disk>1</min-disk>
      <min-ram>2.0</min-ram>
      <size>1</size>
      <image>http://mycompany.images.com/asa.qcow2</image>
    </sw-image-desc>
    <ext-cpd>
      <id>inside</id>
      <int-cpd>
	<vdu-id>firewall</vdu-id>
	<cpd>inside</cpd>
      </int-cpd>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
    <ext-cpd>
      <id>management</id>
      <int-cpd>
	<vdu-id>firewall</vdu-id>
	<cpd>management</cpd>
      </int-cpd>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
    <ext-cpd>
      <id>outside</id>
      <int-cpd>
	<vdu-id>firewall</vdu-id>
	<cpd>outside</cpd>
      </int-cpd>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
    <df>
      <id>normal</id>
      <vdu-profile>
        <id>firewall</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>2</max-number-of-instances>
      </vdu-profile>
      <instantiation-level>
        <id>double</id>
        <vdu-level>
          <vdu-id>firewall</vdu-id>
          <number-of-instances>2</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <instantiation-level>
        <id>single</id>
        <vdu-level>
          <vdu-id>firewall</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <default-instantiation-level>single</default-instantiation-level>
      <lcm-operations-configuration>
	<scale-vnf-to-level-op-config>
	  <arbitrary-target-levels-supported>true</arbitrary-target-levels-supported>
	</scale-vnf-to-level-op-config>
	<terminate-vnf-op-config>
	  <min-graceful-termination>1</min-graceful-termination>
	</terminate-vnf-op-config>
	<operate-vnf-op-config>
	  <min-graceful-stop-timeout>1</min-graceful-stop-timeout>
	</operate-vnf-op-config>
      </lcm-operations-configuration>
    </df>
  </vnfd>
  <vnfd>
    <id>CSR</id>
    <provider>My Company</provider>
    <product-name>My Company CSR 1000v</product-name>
    <software-version>3.16</software-version>
    <version>3.16</version>
    <vnfm-info>My Company Vnfm</vnfm-info>
    <vdu>
      <id>router</id>
      <name>Router VDU</name>
      <int-cpd>
        <id>left</id>
        <layer-protocol>ethernet</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>management</id>
        <layer-protocol>ethernet</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>right</id>
        <layer-protocol>ethernet</layer-protocol>
      </int-cpd>
      <virtual-compute-desc>csr-vcd</virtual-compute-desc>
      <virtual-storage-desc>csr-vsd</virtual-storage-desc>
      <sw-image-desc>csr-image</sw-image-desc>
    </vdu>
    <virtual-compute-desc>
      <id>csr-vcd</id>
      <virtual-memory>
        <size>4.0</size>
      </virtual-memory>
      <virtual-cpu>
        <num-virtual-cpu>2</num-virtual-cpu>
      </virtual-cpu>
    </virtual-compute-desc>
    <virtual-storage-desc>
      <id>csr-vsd</id>
      <type-of-storage>root-storage</type-of-storage>
      <size-of-storage>0</size-of-storage>
    </virtual-storage-desc>
    <sw-image-desc>
      <id>csr-image</id>
      <name>CSR image</name>
      <version>1.1</version>
      <checksum>
	<algorithm>sha-224</algorithm>
	<hash>deadbeef</hash>
      </checksum>
      <container-format>bare</container-format>
      <disk-format>qcow2</disk-format>
      <min-disk>1</min-disk>
      <min-ram>2.0</min-ram>
      <size>1</size>
      <image>http://mycompany.images.com/csr.qcow2</image>
    </sw-image-desc>
    <ext-cpd>
      <id>left</id>
      <int-cpd>
	<vdu-id>router</vdu-id>
	<cpd>left</cpd>
      </int-cpd>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
    <ext-cpd>
      <id>management</id>
      <int-cpd>
	<vdu-id>router</vdu-id>
	<cpd>management</cpd>
      </int-cpd>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
    <ext-cpd>
      <id>right</id>
      <int-cpd>
	<vdu-id>router</vdu-id>
	<cpd>right</cpd>
      </int-cpd>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
    <df>
      <id>normal</id>
      <vdu-profile>
        <id>router</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>2</max-number-of-instances>
      </vdu-profile>
      <instantiation-level>
        <id>double</id>
        <vdu-level>
          <vdu-id>router</vdu-id>
          <number-of-instances>2</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <instantiation-level>
        <id>single</id>
        <vdu-level>
          <vdu-id>router</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <default-instantiation-level>single</default-instantiation-level>
      <lcm-operations-configuration>
	<scale-vnf-to-level-op-config>
	  <arbitrary-target-levels-supported>true</arbitrary-target-levels-supported>
	</scale-vnf-to-level-op-config>
	<terminate-vnf-op-config>
	  <min-graceful-termination>1</min-graceful-termination>
	</terminate-vnf-op-config>
	<operate-vnf-op-config>
	  <min-graceful-stop-timeout>1</min-graceful-stop-timeout>
	</operate-vnf-op-config>
      </lcm-operations-configuration>
    </df>
  </vnfd>
  <nsd>
    <id>firewall-nsd</id>
    <vnfd-id>ASA</vnfd-id>
    <sapd>
      <id>inside</id>
    </sapd>
    <sapd>
      <id>management</id>
    </sapd>
    <sapd>
      <id>outside</id>
    </sapd>
    <df>
      <id>firewall</id>
      <vnf-profile>
        <id>firewall</id>
        <vnfd-id>ASA</vnfd-id>
        <flavour-id>normal</flavour-id>
        <instantiation-level>single</instantiation-level>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
      </vnf-profile>
      <ns-instantiation-level>
        <id>single</id>
        <vnf-to-level-mapping>
          <vnf-profile-id>firewall</vnf-profile-id>
          <number-of-instances>1</number-of-instances>
        </vnf-to-level-mapping>
      </ns-instantiation-level>
    </df>
  </nsd>
  <nsd>
    <id>service-chain-1</id>
    <vnfd-id>ASA</vnfd-id>
    <vnfd-id>CSR</vnfd-id>
    <pnfd-id>physical-dpi</pnfd-id>
    <sapd>
      <id>inside</id>
    </sapd>
    <sapd>
      <id>management</id>
      <virtual-link-desc>mgmt</virtual-link-desc>
    </sapd>
    <sapd>
      <id>outside</id>
      <vnf>
        <vnfd-id>CSR</vnfd-id>
        <ext-cpd-id>left</ext-cpd-id>
      </vnf>
    </sapd>
    <virtual-link-desc>
      <id>fw2dpi</id>
      <connectivity-type>
        <layer-protocol>ethernet</layer-protocol>
      </connectivity-type>
      <df>
        <id>normal</id>
        <qos>
          <latency>0</latency>
          <packet-delay-variation>0</packet-delay-variation>
        </qos>
      </df>
    </virtual-link-desc>
    <virtual-link-desc>
      <id>mgmt</id>
      <connectivity-type>
        <layer-protocol>ipv4</layer-protocol>
      </connectivity-type>
      <df>
        <id>normal</id>
        <qos>
          <latency>0</latency>
          <packet-delay-variation>0</packet-delay-variation>
        </qos>
      </df>
    </virtual-link-desc>
    <virtual-link-desc>
      <id>r2fw</id>
      <connectivity-type>
        <layer-protocol>ethernet</layer-protocol>
      </connectivity-type>
      <df>
        <id>normal</id>
        <qos>
          <latency>0</latency>
          <packet-delay-variation>0</packet-delay-variation>
        </qos>
      </df>
    </virtual-link-desc>
    <df>
      <id>router-fw</id>
      <vnf-profile>
        <id>firewall</id>
        <vnfd-id>ASA</vnfd-id>
        <flavour-id>normal</flavour-id>
        <instantiation-level>single</instantiation-level>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <virtual-link-connectivity>
          <virtual-link-profile-id>mgmt</virtual-link-profile-id>
	  <constituent-cpd-id>
            <constituent-base-element-id>firewall</constituent-base-element-id>
	    <constituent-cpd-id>management</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
        <virtual-link-connectivity>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>firewall</constituent-base-element-id>
            <constituent-cpd-id>outside</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </vnf-profile>
      <vnf-profile>
        <id>router</id>
        <vnfd-id>CSR</vnfd-id>
        <flavour-id>normal</flavour-id>
        <instantiation-level>single</instantiation-level>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <virtual-link-connectivity>
          <virtual-link-profile-id>mgmt</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>router</constituent-base-element-id>
            <constituent-cpd-id>management</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
        <virtual-link-connectivity>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>router</constituent-base-element-id>
            <constituent-cpd-id>right</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </vnf-profile>
      <virtual-link-profile>
        <id>mgmt</id>
        <virtual-link-desc-id>mgmt</virtual-link-desc-id>
        <flavour-id>normal</flavour-id>
        <max-bitrate-requirements>
          <root>1000</root>
        </max-bitrate-requirements>
        <min-bitrate-requirements>
          <root>0</root>
        </min-bitrate-requirements>
      </virtual-link-profile>
      <virtual-link-profile>
        <id>r2fw</id>
        <virtual-link-desc-id>r2fw</virtual-link-desc-id>
        <flavour-id>normal</flavour-id>
        <max-bitrate-requirements>
          <root>10000000</root>
        </max-bitrate-requirements>
        <min-bitrate-requirements>
          <root>0</root>
        </min-bitrate-requirements>
      </virtual-link-profile>
      <ns-instantiation-level>
        <id>normal</id>
        <description>Single FW and Router</description>
        <vnf-to-level-mapping>
          <vnf-profile-id>firewall</vnf-profile-id>
          <number-of-instances>1</number-of-instances>
        </vnf-to-level-mapping>
        <vnf-to-level-mapping>
          <vnf-profile-id>router</vnf-profile-id>
          <number-of-instances>1</number-of-instances>
        </vnf-to-level-mapping>
      </ns-instantiation-level>
    </df>
    <df>
      <id>router-fw-dpi</id>
      <vnf-profile>
        <id>firewall</id>
        <vnfd-id>ASA</vnfd-id>
        <flavour-id>normal</flavour-id>
        <instantiation-level>single</instantiation-level>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <virtual-link-connectivity>
          <virtual-link-profile-id>fw2dpi</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>firewall</constituent-base-element-id>
            <constituent-cpd-id>inside</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
        <virtual-link-connectivity>
          <virtual-link-profile-id>mgmt</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>firewall</constituent-base-element-id>
            <constituent-cpd-id>management</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
        <virtual-link-connectivity>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>firewall</constituent-base-element-id>
            <constituent-cpd-id>outside</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </vnf-profile>
      <vnf-profile>
        <id>router</id>
        <vnfd-id>CSR</vnfd-id>
        <flavour-id>normal</flavour-id>
        <instantiation-level>single</instantiation-level>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <virtual-link-connectivity>
          <virtual-link-profile-id>mgmt</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>router</constituent-base-element-id>
            <constituent-cpd-id>management</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
        <virtual-link-connectivity>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>router</constituent-base-element-id>
            <constituent-cpd-id>right</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </vnf-profile>
      <pnf-profile>
        <id>physical-dpi</id>
        <pnfd-id>physical-dpi</pnfd-id>
        <virtual-link-connectivity>
          <virtual-link-profile-id>fw2dpi</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>physical-dpi</constituent-base-element-id>
            <constituent-cpd-id>outside</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </pnf-profile>
      <virtual-link-profile>
        <id>fw2dpi</id>
        <virtual-link-desc-id>fw2dpi</virtual-link-desc-id>
        <flavour-id>normal</flavour-id>
        <max-bitrate-requirements>
          <root>1000000</root>
        </max-bitrate-requirements>
        <min-bitrate-requirements>
          <root>0</root>
        </min-bitrate-requirements>
      </virtual-link-profile>
      <virtual-link-profile>
        <id>mgmt</id>
        <virtual-link-desc-id>mgmt</virtual-link-desc-id>
        <flavour-id>normal</flavour-id>
        <max-bitrate-requirements>
          <root>1000</root>
        </max-bitrate-requirements>
        <min-bitrate-requirements>
          <root>0</root>
        </min-bitrate-requirements>
      </virtual-link-profile>
      <virtual-link-profile>
        <id>r2fw</id>
        <virtual-link-desc-id>r2fw</virtual-link-desc-id>
        <flavour-id>normal</flavour-id>
        <max-bitrate-requirements>
          <root>1000000</root>
        </max-bitrate-requirements>
        <min-bitrate-requirements>
          <root>0</root>
        </min-bitrate-requirements>
      </virtual-link-profile>
      <ns-instantiation-level>
        <id>normal</id>
        <description>Router+FW+Physical DPI</description>
        <vnf-to-level-mapping>
          <vnf-profile-id>firewall</vnf-profile-id>
          <number-of-instances>1</number-of-instances>
        </vnf-to-level-mapping>
        <vnf-to-level-mapping>
          <vnf-profile-id>router</vnf-profile-id>
          <number-of-instances>1</number-of-instances>
        </vnf-to-level-mapping>
      </ns-instantiation-level>
    </df>
  </nsd>
  <nsd>
    <id>service-chain-2</id>
    <nested-nsd-id>firewall-nsd</nested-nsd-id>
    <vnfd-id>CSR</vnfd-id>
    <sapd>
      <id>inside</id>
      <ns>
        <nsd-id>firewall-nsd</nsd-id>
        <ext-cpd-id>inside</ext-cpd-id>
      </ns>
    </sapd>
    <sapd>
      <id>outside</id>
      <vnf>
        <vnfd-id>CSR</vnfd-id>
        <ext-cpd-id>left</ext-cpd-id>
      </vnf>
    </sapd>
    <virtual-link-desc>
      <id>r2fw</id>
      <connectivity-type>
        <layer-protocol>ipv4</layer-protocol>
      </connectivity-type>
      <df>
        <id>r2fw</id>
        <qos>
          <latency>1000</latency>
          <packet-delay-variation>2</packet-delay-variation>
        </qos>
      </df>
    </virtual-link-desc>
    <df>
      <id>router-fw</id>
      <vnf-profile>
        <id>router</id>
        <vnfd-id>CSR</vnfd-id>
        <flavour-id>normal</flavour-id>
        <instantiation-level>single</instantiation-level>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <virtual-link-connectivity>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>router</constituent-base-element-id>
            <constituent-cpd-id>right</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </vnf-profile>
      <virtual-link-profile>
        <id>r2fw</id>
        <virtual-link-desc-id>r2fw</virtual-link-desc-id>
        <flavour-id>r2fw</flavour-id>
        <max-bitrate-requirements>
          <root>500</root>
        </max-bitrate-requirements>
        <min-bitrate-requirements>
          <root>0</root>
        </min-bitrate-requirements>
      </virtual-link-profile>
      <ns-instantiation-level>
        <id>normal</id>
        <vnf-to-level-mapping>
          <vnf-profile-id>router</vnf-profile-id>
          <number-of-instances>1</number-of-instances>
        </vnf-to-level-mapping>
        <virtual-link-to-level-mapping>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
          <root>10</root>
        </virtual-link-to-level-mapping>
      </ns-instantiation-level>
      <ns-profile>
        <id>firewall</id>
        <nsd-id>firewall-nsd</nsd-id>
        <ns-df-id>firewall</ns-df-id>
        <instantiation-level-id>single</instantiation-level-id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <virtual-link-connectivity>
          <virtual-link-profile-id>r2fw</virtual-link-profile-id>
	  <constituent-cpd-id>
	    <constituent-base-element-id>firewall</constituent-base-element-id>
            <constituent-cpd-id>outside</constituent-cpd-id>
	  </constituent-cpd-id>
        </virtual-link-connectivity>
      </ns-profile>
    </df>
  </nsd>
  <pnfd>
    <id>physical-dpi</id>
    <version>1.0</version>
    <ext-cpd>
      <id>outside</id>
      <layer-protocol>ethernet</layer-protocol>
    </ext-cpd>
  </pnfd>
</nfv>
